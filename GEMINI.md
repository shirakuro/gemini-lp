# テトリスゲーム要件定義

本ドキュメントは、HTML、CSS、JavaScriptを使用してWebブラウザで動作するテトリスゲームを開発するための要件を定義する。

## 1. 概要

- **プロジェクト名:** HTML5 テトリス
- **目的:** Web技術（HTML, CSS, JS）の学習と実践を兼ねて、クラシックなテトリスゲームを再現する。
- **ターゲット:** Webブラウザを持つすべてのユーザー

## 2. ゲームのコア機能

- **プレイフィールド:** 10x20のグリッドで構成される。
- **テトリミノ:** 7種類のテトリミノ（I, O, T, L, J, S, Z）がランダムに出現し、フィールドの上部中央から落下する。
- **操作:**
    - 左右移動: テトリミノを左右に1グリッドずつ動かす。
    - 回転: テトリミノを時計回りに90度回転させる。
    - ソフトドロップ: テトリミノの落下速度を速める。
    - ハードドロップ: テトリミノを瞬時に一番下まで落とす。
- **ライン消去:** 横一列がブロックで埋まると、そのラインが消去され、上のブロックが下に落ちる。
- **スコア:**
    - ライン消去時にスコアが加算される。
    - 同時に複数ラインを消去すると、より高いスコアが得られる（例：1ライン: 100点, 2ライン: 300点, 3ライン: 500点, 4ライン（テトリス）: 800点）。
- **レベル:**
    - 一定のライン数を消去するごとにレベルが上がる。
    - レベルが上がると、テトリミノの落下速度が上昇する。
- **ゲームオーバー:** ブロックがプレイフィールドの最上部に積み上がるとゲームオーバーとなる。
- **NEXT表示:** 次に出現するテトリミノをプレイヤーに提示する領域を設ける。

## 3. UI（ユーザーインターフェース）と画面設計

- **メイン画面:**
    - **ゲームプレイフィールド (中央):** ゲームのメインエリア。
    - **スコア表示 (右側):** 現在のスコアを表示する。
    - **レベル表示 (右側):** 現在のレベルを表示する。
    - **消去ライン数表示 (右側):** 消去した合計ライン数を表示する。
    - **NEXTテトリミノ表示 (右側):** 次のブロックを表示する。
- **ゲームオーバー画面:**
    - 「GAME OVER」のテキストと最終スコアを表示する。
    - ゲームをリスタートするためのボタンを配置する。
- **その他:**
    - ゲームを一時停止/再開する機能。

## 4. 操作方法

- **キーボード操作:**
    - `左矢印キー`: テトリミノを左に移動
    - `右矢印キー`: テトリミノを右に移動
    - `下矢印キー`: ソフトドロップ
    - `上矢印キー`: テトリミノを回転
    - `スペースキー`: ハードドロップ
    - `Pキー`: 一時停止 / 再開

## 5. 技術要件

- **`index.html`:**
    - ゲームの骨格となるHTML構造を定義する。
    - ゲーム画面描画のための`<canvas>`要素を配置する。
    - スコアやレベルなどの情報表示エリアを設ける。
- **`style.css`:**
    - ゲーム全体のレイアウト、配色、フォントなどのスタイルを定義する。
    - レスポンシブデザインは初期要件に含めない。
- **`script.js`:**
    - ゲームのロジック全体を管理する。
    - ゲームループの実装。
    - テトリミノの描画と状態管理。
    - プレイヤーの入力処理。
    - 衝突判定（壁、床、他のブロック）。
    - ライン消去とスコア計算のロジック。
    - ゲームオーバーの判定と処理。

## 6. ゲームフロー

1.  ユーザーがページを開くと、ゲーム画面が表示される。
2.  ユーザーが「スタート」ボタン（または任意のキー）を押すとゲームが開始される。
3.  テトリミノがフィールド上部から落下を開始する。
4.  ユーザーはキーボードでテトリミノを操作する。
5.  ラインがそろうと消去され、スコアが加算される。
6.  ブロックが最上部まで積み上がるとゲームオーバー。
7.  ゲームオーバー画面で最終スコアが表示され、リスタートを選択できる。

## 7. 範囲外・将来的な拡張機能

以下の機能は、初期リリース（MVP）の範囲外とする。

-   効果音・BGM
-   ハイスコアの保存機能（LocalStorageなど）
-   タッチデバイス向けの操作
-   異なるゲームモード（マラソン、スプリントなど）
